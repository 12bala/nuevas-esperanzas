
id: profile

label: Migrate Csv Profile

migration_tags:
  - CSV

source:
  plugin: csv

  path: public://csv/profile.csv

  header_row_count: 1

  keys:
    - id

  column_names:

      0:
        id: Profile ID

      1:
        first_name: First Names

      2:
        last_name: Last Names

      3:
        other_event: Other event

      4:
        pictures: Pictures

      5:
        birthday: Birthday

      6:
        age: Age

      7:
        no_cedula: No. de Cedula

      8:
        marital_status: Marital status

      9:
        household_income: Household Income

      10:
        children: Children

      11:
        people_in_home: No. of People in Home

      12:
        current_employment: Current Employment

      13:
        salary: Salary

      14:
        telefono: Telefono

      15:
        highest_education_completed: Highest Education Completed

      16:
        read_write_math: Read Write Math

      17:
        special_skills: Special Skills

      18:
        job_training: Job Training

      19:
        languages: Languages


destination:
  plugin: entity:node

process:
  type:
    plugin: default_value
    default_value: profile

  title: first_name

  field_first_name: first_name

  field_last_name: last_name

  field_other_event: other_event

#  field_pictures : pictures

  field_birthday : birthday

  #field_age : age

  field_cedule_number: no_cedula

  field_marital_status:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: marital_status
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: marital_status

  field_household_income: household_income

  field_children: children

  field_number_of_people_in_home: people_in_home

  field_current_employment: current_employment

  field_salary: salary

  field_telephone: telefono

  field_highest_education_complete:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: highest_education_completed
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: highest_education_completed
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: highest_level_education

  field_read_write_math:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: read_write_math
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: read_write_math

  field_special_skills:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: special_skills
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: special_skills

  field_job_training:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: job_training
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: job_training

  field_languages:
    -
      plugin: static_map
      bypass: TRUE
      map:
        '': NULL
      source: languages
    -
      plugin: skip_on_empty
      method: process
    -
      plugin: migration
      migration: languages
